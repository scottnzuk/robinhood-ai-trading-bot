# Environment Downgrade Plan for Ray Compatibility (2025-04-06)

---

## Background

Ray is essential for distributed training and hyperparameter tuning.  
Ray currently **does not support Python 3.13 on macOS ARM64**.  
Recommended Python versions for Ray compatibility:

- **Python 3.10**
- **Python 3.11**

---

## Step-by-step Instructions

### 1. Install Python 3.10 or 3.11

- Use **pyenv**, **Homebrew**, or official installer.
- Example with Homebrew:
  ```
  brew install python@3.11
  ```

### 2. Create a new virtual environment

```bash
python3.11 -m venv .venv
source .venv/bin/activate
```

### 3. Upgrade pip

```bash
pip install --upgrade pip setuptools wheel
```

### 4. Install project dependencies

```bash
pip install -r requirements.txt
```

### 5. Install additional dependencies from pyproject.toml (if needed)

```bash
pip install torch ray
```

### 6. Verify installation

```bash
python -c "import torch; import ray; import ray.tune"
```

No errors should occur.

---

## After Environment Setup

- Re-run VSCode with the new interpreter selected
- Confirm missing import errors are resolved
- Proceed with fixing code and security issues

---

*Generated by Roo on 2025-04-06*